{
  "schemaVersion": "1.0.0",
  "generatedAt": "2026-03-01T03:53:17.897Z",
  "source": {
    "owner": "panalgin",
    "repo": "falcon",
    "ref": "pre-prod",
    "commitSha": "1de7917c8b5c50bd277b6da0e04b8102cae56740"
  },
  "policyStatus": {
    "provider": "OPA + Conftest",
    "workflowPath": ".github/workflows/ci-tests.yml",
    "policyPath": "policy/v1/ci.rego",
    "inputBuilderPath": "falcon-compliance-toolkit build-policy-input"
  },
  "attestationStatus": {
    "provider": "Sigstore Cosign",
    "workflowPaths": [
      ".github/workflows/deploy-preprod.yml",
      ".github/workflows/deploy-prod.yml"
    ]
  },
  "documents": [
    {
      "key": "trustCompliance",
      "title": "Trust And Compliance Evidence",
      "path": "current/trust-evidence.md",
      "url": "https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/trust-evidence.md",
      "sha": "017c5935e47b2e7ea912efd30c1ec330b0cb9547"
    },
    {
      "key": "storeCompliance",
      "title": "Store Compliance Backend Evidence DAF-418",
      "path": "current/store-compliance.md",
      "url": "https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/store-compliance.md",
      "sha": "e93451ba6b356051e75bd506af43512b1cbd4bcc"
    }
  ],
  "testEvidence": [
    {
      "testId": "permission-analyzer-unit",
      "sourcePath": "packages/domain/src/device/services/permission-analyzer.service.spec.ts",
      "suiteType": "unit",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22534983183",
      "jobName": "Unit Tests",
      "sourceCommitSha": "1de7917c8b5c50bd277b6da0e04b8102cae56740",
      "executedAt": "2026-03-01T03:29:33.646Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/permission-analyzer-unit.json",
          "sha256": "ad06963023313a35c2f62bf2a96dde1f43afdb0b5bf6c4488256eb9c2d678c65"
        },
        {
          "format": "junit",
          "path": "current/tests/permission-analyzer-unit.junit.xml",
          "sha256": "fc2e8cd293404887175d63f850830cb0c3e878ecb2e63a51d28d39cf6744f227"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/permission-analyzer-unit.json\" -o /tmp/permission-analyzer-unit.json && echo \"ad06963023313a35c2f62bf2a96dde1f43afdb0b5bf6c4488256eb9c2d678c65  /tmp/permission-analyzer-unit.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "ttl-indexes-persistence-unit",
      "sourcePath": "packages/persistence/src/mongoose/ttl-indexes.spec.ts",
      "suiteType": "unit",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22534983183",
      "jobName": "Unit Tests",
      "sourceCommitSha": "1de7917c8b5c50bd277b6da0e04b8102cae56740",
      "executedAt": "2026-03-01T03:29:33.647Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/ttl-indexes-persistence-unit.json",
          "sha256": "35c220b7a54caf74c63a54a2e6ce906ae724ec9fea56282e6ca46f05dddde711"
        },
        {
          "format": "junit",
          "path": "current/tests/ttl-indexes-persistence-unit.junit.xml",
          "sha256": "c76957fff16838637b701b938bf6bffa05f03b8002e1dd8f6f63eeb67cec9c5e"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/ttl-indexes-persistence-unit.json\" -o /tmp/ttl-indexes-persistence-unit.json && echo \"35c220b7a54caf74c63a54a2e6ce906ae724ec9fea56282e6ca46f05dddde711  /tmp/ttl-indexes-persistence-unit.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "ttl-indexes-api-unit",
      "sourcePath": "apps/api/src/schemas/ttl-indexes.spec.ts",
      "suiteType": "unit",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22534983183",
      "jobName": "Unit Tests",
      "sourceCommitSha": "1de7917c8b5c50bd277b6da0e04b8102cae56740",
      "executedAt": "2026-03-01T03:29:33.648Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/ttl-indexes-api-unit.json",
          "sha256": "52f3bfb5e8433f1a604cf353992dc8e9f9c403c36f02b217adbc084f0b0e8218"
        },
        {
          "format": "junit",
          "path": "current/tests/ttl-indexes-api-unit.junit.xml",
          "sha256": "1f0c9cd964582859ec2800825c222e167d52a328de0e57888f3b83a1442de358"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/ttl-indexes-api-unit.json\" -o /tmp/ttl-indexes-api-unit.json && echo \"52f3bfb5e8433f1a604cf353992dc8e9f9c403c36f02b217adbc084f0b0e8218  /tmp/ttl-indexes-api-unit.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "device-sync-e2e",
      "sourcePath": "apps/api/test/device-sync.e2e.spec.ts",
      "suiteType": "e2e",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22534983183",
      "jobName": "Integration And E2E Tests",
      "sourceCommitSha": "1de7917c8b5c50bd277b6da0e04b8102cae56740",
      "executedAt": "2026-03-01T03:29:33.695Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/device-sync-e2e.json",
          "sha256": "59db5b0a17004d019f090548a7d4e69931b4bba35bcb651b389bc90be2d8bf24"
        },
        {
          "format": "junit",
          "path": "current/tests/device-sync-e2e.junit.xml",
          "sha256": "8ce690ba2847c4c341e17b751118c1d86a03ec7e5427a762a8a73b53f12048d2"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/device-sync-e2e.json\" -o /tmp/device-sync-e2e.json && echo \"59db5b0a17004d019f090548a7d4e69931b4bba35bcb651b389bc90be2d8bf24  /tmp/device-sync-e2e.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "sos-e2e",
      "sourcePath": "apps/api/test/sos.e2e.spec.ts",
      "suiteType": "e2e",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22534983183",
      "jobName": "Integration And E2E Tests",
      "sourceCommitSha": "1de7917c8b5c50bd277b6da0e04b8102cae56740",
      "executedAt": "2026-03-01T03:29:33.697Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/sos-e2e.json",
          "sha256": "b05d07170d9428120c8d9c59b603708abd03144df18c35d4be70e1c0d921712c"
        },
        {
          "format": "junit",
          "path": "current/tests/sos-e2e.junit.xml",
          "sha256": "0115b496e15c238abb67f04ed59770f114ba5ec636ecd116b959fea930c3969b"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/sos-e2e.json\" -o /tmp/sos-e2e.json && echo \"b05d07170d9428120c8d9c59b603708abd03144df18c35d4be70e1c0d921712c  /tmp/sos-e2e.json\" | shasum -a 256 -c -"
    }
  ],
  "verificationCommands": [
    {
      "label": "Verify API container signature",
      "command": "cosign verify ghcr.io/panalgin/fawa-backend-api-preprod@sha256:5f6fac46be9fce8991a0c24bd540ced0d1d2dad7b757188c4f0b8c9509bdd3ca --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    },
    {
      "label": "Verify Worker container signature",
      "command": "cosign verify ghcr.io/panalgin/fawa-backend-worker-preprod@sha256:3cdbf7407803b260bfca7b02ba714cc2fe416dab89833e471dadc382fdd9cb38 --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    },
    {
      "label": "Verify API container attestation",
      "command": "cosign verify-attestation ghcr.io/panalgin/fawa-backend-api-preprod@sha256:5f6fac46be9fce8991a0c24bd540ced0d1d2dad7b757188c4f0b8c9509bdd3ca --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    },
    {
      "label": "Verify Worker container attestation",
      "command": "cosign verify-attestation ghcr.io/panalgin/fawa-backend-worker-preprod@sha256:3cdbf7407803b260bfca7b02ba714cc2fe416dab89833e471dadc382fdd9cb38 --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    }
  ],
  "limits": [
    "Evidence includes sanitized verification metadata and immutable links only.",
    "Operational secrets and sensitive runtime details are intentionally excluded.",
    "Runtime policy is fetched from public package and verified via checksum + detached signature."
  ],
  "verification": {
    "dispatcher": "repository_dispatch",
    "ciArtifactsValidated": true,
    "deployJobsValidated": true,
    "sourceRepo": "panalgin/falcon",
    "environment": "pre-prod",
    "ciRunId": "22534983183",
    "deployRunId": "22534983181"
  },
  "policyPackage": {
    "version": "1.0.0",
    "filePath": "policy/v1/ci.rego",
    "sha256": "9f1390a5bb1f695c9bdc51f0612147dda42adf44db6327685070cc4a79c90353",
    "signaturePath": "policy/v1/ci.rego.sig.base64",
    "publicKeyPath": "policy/signing/policy-signing-public.pem",
    "policyInputSha256": "1ed4d5e84342f712c653c4d917fb19d71c9709746b1aaedf36c509e5ba476a24",
    "checksumVerified": true,
    "signatureVerified": true,
    "sourceUrl": "https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/policy/version.json"
  },
  "deployEvidence": {
    "runId": "22534983181",
    "runNumber": "187",
    "workflowName": "Deploy to Pre-Production",
    "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181",
    "conclusion": "success",
    "jobs": [
      {
        "name": "wait_for_ci_success",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:24:17Z",
        "completedAt": "2026-03-01T03:29:41Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280691664"
      },
      {
        "name": "prepare_common",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:29:43Z",
        "completedAt": "2026-03-01T03:30:17Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280885286"
      },
      {
        "name": "build_worker_image",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:30:20Z",
        "completedAt": "2026-03-01T03:30:56Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280910373"
      },
      {
        "name": "build_api_image",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:30:20Z",
        "completedAt": "2026-03-01T03:30:59Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280910374"
      },
      {
        "name": "sign_and_attest",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:31:02Z",
        "completedAt": "2026-03-01T03:31:26Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280935110"
      },
      {
        "name": "deploy_api",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:31:28Z",
        "completedAt": "2026-03-01T03:32:00Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280950998"
      },
      {
        "name": "deploy_worker",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:32:03Z",
        "completedAt": "2026-03-01T03:33:07Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65280970382"
      },
      {
        "name": "finalize_healthcheck",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:33:10Z",
        "completedAt": "2026-03-01T03:33:19Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65281009096"
      },
      {
        "name": "Dispatch public verifier workflow",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T03:33:21Z",
        "completedAt": "2026-03-01T03:33:26Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22534983181/job/65281016107"
      }
    ]
  },
  "checks": [
    {
      "id": "deploy-required-jobs",
      "name": "Deploy Required Jobs",
      "status": "passed",
      "expected": "sign_and_attest, deploy_api, deploy_worker, finalize_healthcheck = success",
      "actual": "wait_for_ci_success:success, prepare_common:success, build_worker_image:success, build_api_image:success, sign_and_attest:success, deploy_api:success, deploy_worker:success, finalize_healthcheck:success, Dispatch public verifier workflow:success"
    },
    {
      "id": "ci-run-success",
      "name": "CI Run Success",
      "status": "passed",
      "expected": "CI run conclusion is success",
      "actual": "CI run 22534983183 conclusion=success"
    }
  ]
}
