{
  "schemaVersion": "1.0.0",
  "generatedAt": "2026-03-01T04:24:41.944Z",
  "source": {
    "owner": "panalgin",
    "repo": "falcon",
    "ref": "pre-prod",
    "commitSha": "1f9602878edb07cbecc9bf0a100ff9ee814576fe"
  },
  "policyStatus": {
    "provider": "OPA + Conftest",
    "workflowPath": ".github/workflows/ci-tests.yml",
    "policyPath": "policy/v1/ci.rego",
    "inputBuilderPath": "falcon-compliance-toolkit build-policy-input"
  },
  "attestationStatus": {
    "provider": "Sigstore Cosign",
    "workflowPaths": [
      ".github/workflows/deploy-preprod.yml",
      ".github/workflows/deploy-prod.yml"
    ]
  },
  "documents": [
    {
      "key": "trustCompliance",
      "title": "Trust And Compliance Evidence",
      "path": "current/trust-evidence.md",
      "url": "https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/trust-evidence.md",
      "sha": "017c5935e47b2e7ea912efd30c1ec330b0cb9547"
    },
    {
      "key": "storeCompliance",
      "title": "Store Compliance Backend Evidence DAF-418",
      "path": "current/store-compliance.md",
      "url": "https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/store-compliance.md",
      "sha": "e93451ba6b356051e75bd506af43512b1cbd4bcc"
    }
  ],
  "testEvidence": [
    {
      "testId": "permission-analyzer-unit",
      "sourcePath": "packages/domain/src/device/services/permission-analyzer.service.spec.ts",
      "suiteType": "unit",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22535721817",
      "jobName": "Unit Tests",
      "sourceCommitSha": "1f9602878edb07cbecc9bf0a100ff9ee814576fe",
      "executedAt": "2026-03-01T04:20:17.634Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/permission-analyzer-unit.json",
          "sha256": "0f79cb807d88c24fad37ecf0f734604938237577ccb66d130c5cb03e44da5bc0"
        },
        {
          "format": "junit",
          "path": "current/tests/permission-analyzer-unit.junit.xml",
          "sha256": "fc2e8cd293404887175d63f850830cb0c3e878ecb2e63a51d28d39cf6744f227"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/permission-analyzer-unit.json\" -o /tmp/permission-analyzer-unit.json && echo \"0f79cb807d88c24fad37ecf0f734604938237577ccb66d130c5cb03e44da5bc0  /tmp/permission-analyzer-unit.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "ttl-indexes-persistence-unit",
      "sourcePath": "packages/persistence/src/mongoose/ttl-indexes.spec.ts",
      "suiteType": "unit",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22535721817",
      "jobName": "Unit Tests",
      "sourceCommitSha": "1f9602878edb07cbecc9bf0a100ff9ee814576fe",
      "executedAt": "2026-03-01T04:20:17.635Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/ttl-indexes-persistence-unit.json",
          "sha256": "14c45786414e09cbb0b1ef0d6a11135e31d3fee2a046a42e515e368c0e6dca24"
        },
        {
          "format": "junit",
          "path": "current/tests/ttl-indexes-persistence-unit.junit.xml",
          "sha256": "c76957fff16838637b701b938bf6bffa05f03b8002e1dd8f6f63eeb67cec9c5e"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/ttl-indexes-persistence-unit.json\" -o /tmp/ttl-indexes-persistence-unit.json && echo \"14c45786414e09cbb0b1ef0d6a11135e31d3fee2a046a42e515e368c0e6dca24  /tmp/ttl-indexes-persistence-unit.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "ttl-indexes-api-unit",
      "sourcePath": "apps/api/src/schemas/ttl-indexes.spec.ts",
      "suiteType": "unit",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22535721817",
      "jobName": "Unit Tests",
      "sourceCommitSha": "1f9602878edb07cbecc9bf0a100ff9ee814576fe",
      "executedAt": "2026-03-01T04:20:17.636Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/ttl-indexes-api-unit.json",
          "sha256": "2c02892cb2d29d8360e8b0e1c53110e029193f0041fd4762dfda384998be5f2a"
        },
        {
          "format": "junit",
          "path": "current/tests/ttl-indexes-api-unit.junit.xml",
          "sha256": "1f0c9cd964582859ec2800825c222e167d52a328de0e57888f3b83a1442de358"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/ttl-indexes-api-unit.json\" -o /tmp/ttl-indexes-api-unit.json && echo \"2c02892cb2d29d8360e8b0e1c53110e029193f0041fd4762dfda384998be5f2a  /tmp/ttl-indexes-api-unit.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "device-sync-e2e",
      "sourcePath": "apps/api/test/device-sync.e2e.spec.ts",
      "suiteType": "e2e",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22535721817",
      "jobName": "Integration And E2E Tests",
      "sourceCommitSha": "1f9602878edb07cbecc9bf0a100ff9ee814576fe",
      "executedAt": "2026-03-01T04:20:17.681Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/device-sync-e2e.json",
          "sha256": "b37a8d0b670e9527bc767980a69d53589008846bf3f1fc134738621b8a54f420"
        },
        {
          "format": "junit",
          "path": "current/tests/device-sync-e2e.junit.xml",
          "sha256": "8ce690ba2847c4c341e17b751118c1d86a03ec7e5427a762a8a73b53f12048d2"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/device-sync-e2e.json\" -o /tmp/device-sync-e2e.json && echo \"b37a8d0b670e9527bc767980a69d53589008846bf3f1fc134738621b8a54f420  /tmp/device-sync-e2e.json\" | shasum -a 256 -c -"
    },
    {
      "testId": "sos-e2e",
      "sourcePath": "apps/api/test/sos.e2e.spec.ts",
      "suiteType": "e2e",
      "result": "passed",
      "workflowPath": ".github/workflows/ci-tests.yml",
      "runId": "22535721817",
      "jobName": "Integration And E2E Tests",
      "sourceCommitSha": "1f9602878edb07cbecc9bf0a100ff9ee814576fe",
      "executedAt": "2026-03-01T04:20:17.683Z",
      "artifacts": [
        {
          "format": "json",
          "path": "current/tests/sos-e2e.json",
          "sha256": "f30daeebfc12040215ff2c122cd7d65e72e40e9d53ae6741d0d7d8628d4bf05a"
        },
        {
          "format": "junit",
          "path": "current/tests/sos-e2e.junit.xml",
          "sha256": "0115b496e15c238abb67f04ed59770f114ba5ec636ecd116b959fea930c3969b"
        }
      ],
      "verificationCommand": "curl -fsSL \"https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/current/tests/sos-e2e.json\" -o /tmp/sos-e2e.json && echo \"f30daeebfc12040215ff2c122cd7d65e72e40e9d53ae6741d0d7d8628d4bf05a  /tmp/sos-e2e.json\" | shasum -a 256 -c -"
    }
  ],
  "verificationCommands": [
    {
      "label": "Verify API container signature",
      "command": "cosign verify ghcr.io/panalgin/fawa-backend-api-preprod@sha256:97b646c4c5f1bcf7472721f62d3e81a699da42da6e9a707ab72fd5af0fedcb87 --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    },
    {
      "label": "Verify Worker container signature",
      "command": "cosign verify ghcr.io/panalgin/fawa-backend-worker-preprod@sha256:35adeb3062f99133644616b1dee381899b7336d4389ae49edaa386742c984b2c --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    },
    {
      "label": "Verify API container attestation",
      "command": "cosign verify-attestation ghcr.io/panalgin/fawa-backend-api-preprod@sha256:97b646c4c5f1bcf7472721f62d3e81a699da42da6e9a707ab72fd5af0fedcb87 --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    },
    {
      "label": "Verify Worker container attestation",
      "command": "cosign verify-attestation ghcr.io/panalgin/fawa-backend-worker-preprod@sha256:35adeb3062f99133644616b1dee381899b7336d4389ae49edaa386742c984b2c --certificate-identity-regexp \"https://github.com/panalgin/falcon/.github/workflows/.*\" --certificate-oidc-issuer \"https://token.actions.githubusercontent.com\""
    }
  ],
  "limits": [
    "Evidence includes sanitized verification metadata and immutable links only.",
    "Operational secrets and sensitive runtime details are intentionally excluded.",
    "Runtime policy is fetched from public package and verified via checksum + detached signature."
  ],
  "verification": {
    "dispatcher": "repository_dispatch",
    "ciArtifactsValidated": true,
    "deployJobsValidated": true,
    "sourceRepo": "panalgin/falcon",
    "environment": "pre-prod",
    "ciRunId": "22535721817",
    "deployRunId": "22535721802"
  },
  "policyPackage": {
    "version": "1.0.0",
    "filePath": "policy/v1/ci.rego",
    "sha256": "9f1390a5bb1f695c9bdc51f0612147dda42adf44db6327685070cc4a79c90353",
    "signaturePath": "policy/v1/ci.rego.sig.base64",
    "publicKeyPath": "policy/signing/policy-signing-public.pem",
    "policyInputSha256": "cbbfc553e45e6b09812da1cebfbed9cd6562930339a74df93b30377f60fe0e62",
    "checksumVerified": true,
    "signatureVerified": true,
    "sourceUrl": "https://raw.githubusercontent.com/daflan-org/fawa-compliance-evidence/main/policy/version.json"
  },
  "deployEvidence": {
    "runId": "22535721802",
    "runNumber": "188",
    "workflowName": "Deploy to Pre-Production",
    "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802",
    "conclusion": "success",
    "jobs": [
      {
        "name": "wait_for_ci_success",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:15:07Z",
        "completedAt": "2026-03-01T04:20:31Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282657094"
      },
      {
        "name": "prepare_common",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:20:34Z",
        "completedAt": "2026-03-01T04:21:12Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282884875"
      },
      {
        "name": "build_worker_image",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:21:14Z",
        "completedAt": "2026-03-01T04:21:49Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282915137"
      },
      {
        "name": "build_api_image",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:21:14Z",
        "completedAt": "2026-03-01T04:21:42Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282915142"
      },
      {
        "name": "sign_and_attest",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:21:52Z",
        "completedAt": "2026-03-01T04:22:15Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282943971"
      },
      {
        "name": "deploy_api",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:22:18Z",
        "completedAt": "2026-03-01T04:23:06Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282962029"
      },
      {
        "name": "deploy_worker",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:23:08Z",
        "completedAt": "2026-03-01T04:24:05Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65282998919"
      },
      {
        "name": "finalize_healthcheck",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:24:08Z",
        "completedAt": "2026-03-01T04:24:16Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65283038724"
      },
      {
        "name": "Dispatch public verifier workflow",
        "status": "completed",
        "conclusion": "success",
        "startedAt": "2026-03-01T04:24:19Z",
        "completedAt": "2026-03-01T04:24:26Z",
        "htmlUrl": "https://github.com/panalgin/falcon/actions/runs/22535721802/job/65283047474"
      }
    ]
  },
  "checks": [
    {
      "id": "deploy-required-jobs",
      "name": "Deploy Required Jobs",
      "status": "passed",
      "expected": "sign_and_attest, deploy_api, deploy_worker, finalize_healthcheck = success",
      "actual": "wait_for_ci_success:success, prepare_common:success, build_worker_image:success, build_api_image:success, sign_and_attest:success, deploy_api:success, deploy_worker:success, finalize_healthcheck:success, Dispatch public verifier workflow:success"
    },
    {
      "id": "ci-run-success",
      "name": "CI Run Success",
      "status": "passed",
      "expected": "CI run conclusion is success",
      "actual": "CI run 22535721817 conclusion=success"
    }
  ]
}
