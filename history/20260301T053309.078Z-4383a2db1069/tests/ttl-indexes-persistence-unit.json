{
  "schemaVersion": "1.1.0",
  "testId": "ttl-indexes-persistence-unit",
  "sourcePath": "packages/persistence/src/mongoose/ttl-indexes.spec.ts",
  "suiteType": "unit",
  "result": "passed",
  "executedAt": "2026-03-01T05:26:34.925Z",
  "runId": "22536690197",
  "jobName": "Unit Tests",
  "sourceCommitSha": "4383a2db10691e6e2940ab06fbf42d4bda88c88d",
  "workflowPath": ".github/workflows/ci-tests.yml",
  "assertions": [
    {
      "assertionId": "location-records-ttl-30d",
      "name": "Location records TTL is 30 days",
      "status": "passed",
      "expected": "location_records.recordedAt TTL must be 30d.",
      "actual": "Matched includes assertion in packages/persistence/src/mongoose/device-sync/schemas/location-record.schema.ts.",
      "evidenceRef": {
        "filePath": "packages/persistence/src/mongoose/device-sync/schemas/location-record.schema.ts",
        "matcherType": "includes",
        "matcher": "index: { expires: \"30d\" }"
      },
      "verifiedAt": "2026-03-01T05:26:34.925Z"
    },
    {
      "assertionId": "heartbeat-records-ttl-30d",
      "name": "Heartbeat records TTL is 30 days",
      "status": "passed",
      "expected": "heartbeat_records.recordedAt TTL must be 30d.",
      "actual": "Matched includes assertion in packages/persistence/src/mongoose/device-sync/schemas/heartbeat-record.schema.ts.",
      "evidenceRef": {
        "filePath": "packages/persistence/src/mongoose/device-sync/schemas/heartbeat-record.schema.ts",
        "matcherType": "includes",
        "matcher": "index: { expires: \"30d\" }"
      },
      "verifiedAt": "2026-03-01T05:26:34.925Z"
    },
    {
      "assertionId": "outbox-archive-default-ttl-30d",
      "name": "Outbox archive default TTL is 30 days",
      "status": "passed",
      "expected": "Outbox archive default TTL days must resolve to 30.",
      "actual": "Matched includes assertion in packages/persistence/src/mongoose/outbox/schemas/outbox-archive.schema.ts.",
      "evidenceRef": {
        "filePath": "packages/persistence/src/mongoose/outbox/schemas/outbox-archive.schema.ts",
        "matcherType": "includes",
        "matcher": "process.env.OUTBOX_ARCHIVE_TTL_DAYS || \"30\""
      },
      "verifiedAt": "2026-03-01T05:26:34.925Z"
    }
  ]
}
